// üß© 1. map()

// –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤, –∑–º—ñ–Ω—é—é—á–∏ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ.

// ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤.

const products = [10, 20, 30];

const withTax = products.map((price) => price * 1.2);

console.log(withTax); // [12, 24, 36]

// –ü–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤.

// –ù–µ –∑–º—ñ–Ω—é—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π.

// –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è ‚Äú–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è‚Äù –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–º—ñ–Ω–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è).

// üìå –Ø–∫—â–æ —Ç–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî map –Ω–µ –º–∞—î —Å–µ–Ω—Å—É (—Ç–æ–¥—ñ –∫—Ä–∞—â–µ forEach).

// 2. forEach()

// –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ–Ω—É—î –¥—ñ—é –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î.

// ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–æ—Å—å –∑—Ä–æ–±–∏—Ç–∏ ‚Äî
// –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–≤–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∞–±–æ –∑–º—ñ–Ω–∏—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—é –∑–º—ñ–Ω–Ω—É.

const products1 = ['apple', 'banana', 'pear'];

products1.forEach((product) => {
	console.log(product.toUpperCase());
});
// APPLE
// BANANA
// PEAR

// –ù–µ –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤.

// –ó—Ä—É—á–Ω–æ –¥–ª—è –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ (–≤–∏–≤—ñ–¥, –∑–∞–ø–∏—Å —É –±–∞–∑—É, –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫).

// üìå –Ø–∫—â–æ —Ç–∏ —Ö–æ—á–µ—à —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ ‚Äî forEach –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å.

// 3. for...of

// –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π —Ü–∏–∫–ª –¥–ª—è —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –±—É–¥—å-—è–∫–æ–≥–æ —ñ—Ç–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –æ–±‚Äô—î–∫—Ç–∞
// (–º–∞—Å–∏–≤–∏, Set, Map, —Å—Ç—Ä–æ–∫–∏, —Ç–æ—â–æ).

// ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω –≥–Ω—É—á–∫–∏–π —Ü–∏–∫–ª, —ñ –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –ø—Ä–∞—Ü—é—î–º–æ –∑ –º–∞—Å–∏–≤–æ–º.

const products2 = ['apple', 'banana', 'pear'];

for (const product of products2) {
	console.log(product);
}

// –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ break, continue, return (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ forEach).

// –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –∑ —É–º–æ–≤–∞–º–∏.

// –ù–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –µ–ª–µ–º–µ–Ω—Ç–∞—Ö.

// ‚öñÔ∏è –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–æ

// | –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å / –ú–µ—Ç–æ–¥                       | `map()`                | `forEach()`  | `for...of` |
// | ----------------------------------------- | ---------------------- | ------------ | ---------- |
// | –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤                       | ‚úÖ –¢–∞–∫                  | ‚ùå –ù—ñ         | ‚ùå –ù—ñ       |
// | –ú–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `break` / `continue` | ‚ùå –ù—ñ                   | ‚ùå –ù—ñ         | ‚úÖ –¢–∞–∫      |
// | –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É (`await`) | ‚ö†Ô∏è –ù–µ –∑–æ–≤—Å—ñ–º           | ‚ö†Ô∏è –ù–µ –∑–æ–≤—Å—ñ–º | ‚úÖ –¢–∞–∫      |
// | –ü–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è                         | ‚úÖ –ù–æ–≤–∏–π –º–∞—Å–∏–≤          | ‚ùå undefined  | ‚ùå –ù—ñ—á–æ–≥–æ   |
// | –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤            | ‚ö†Ô∏è –ú–æ–∂–Ω–∞, –∞–ª–µ –Ω–µ —Ç—Ä–µ–±–∞ | ‚úÖ –¢–∞–∫        | ‚úÖ –¢–∞–∫      |

// üß† –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏
// üîπ –ö–æ–ª–∏ —Ç—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Å–ø–∏—Å–æ–∫ —Ü—ñ–Ω –∑ –ü–î–í:

const pricesWithTax = prices.map((p) => p * 1.2);

// üîπ –ö–æ–ª–∏ —Ç—Ä–µ–±–∞ –ø—Ä–æ—Å—Ç–æ –≤–∏–≤–µ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–∏:
products.forEach((p) => console.log(p));

// üîπ –ö–æ–ª–∏ —Ç—Ä–µ–±–∞ –∑–Ω–∞–π—Ç–∏ –ø–µ—Ä—à–∏–π —Ç–æ–≤–∞—Ä, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤—ñ:
for (const p of products) {
	if (p.startsWith('b')) {
		console.log('–ó–Ω–∞–π—à–æ–≤:', p);
		break; // –º–æ–∂–Ω–∞ –≤–∏–π—Ç–∏
	}
}

// * üõí –ú–∞—Å–∏–≤ –æ–±‚Äô—î–∫—Ç—ñ–≤

const products3 = [
	{ id: 1, name: 'Apple', price: 10 },
	{ id: 2, name: 'Banana', price: 20 },
	{ id: 3, name: 'Cherry', price: 30 },
];

// üîπ 1. map() ‚Äî —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Å–∏–≤

// –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–∂–µ–Ω –æ–±‚Äô—î–∫—Ç (—Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É):

const names = products.map((product) => product.name);
console.log(names);
// ["Apple", "Banana", "Cherry"]

// –ê–±–æ –∑—Ä–æ–±–∏–º–æ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ –æ–±‚Äô—î–∫—Ç—ñ–≤ —ñ–∑ –∑–Ω–∏–∂–∫–æ—é:

const discounted = products.map((product) => ({
	...product,
	price: product.price * 0.9,
}));

console.log(discounted);
/*
[
  { id: 1, name: "Apple", price: 9 },
  { id: 2, name: "Banana", price: 18 },
  { id: 3, name: "Cherry", price: 27 }
]
*/

// üü¢ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ,
// –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é –º–∞—Å–∏–≤—É (—ñ–Ω—à–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö –∞–±–æ –∑–º—ñ–Ω–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è).

// üîπ 2. forEach() ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–æ–Ω—É—î –¥—ñ—é
// –ö–æ–ª–∏ —Ç—Ä–µ–±–∞ —â–æ—Å—å –∑—Ä–æ–±–∏—Ç–∏ –∑ –∫–æ–∂–Ω–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º, –∞–ª–µ –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤:

products.forEach((product) => {
	console.log(`${product.name}: $${product.price}`);
});

// –ê–±–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ–¥—Ä–∞—Ö—É—î–º–æ —Å—É–º—É —Ü—ñ–Ω:
let total = 0;

products.forEach((product) => {
	total += product.price;
});

console.log('Total price:', total); // Total price: 60

// üü° –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ–±–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é (–ª–æ–≥, –∑–∞–ø–∏—Å, –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫).

// üîπ 3. for...of ‚Äî —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π —Ü–∏–∫–ª

// –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∞ –ª–æ–≥—ñ–∫–∞: –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ break, continue, await —Ç–æ—â–æ.

for (const product of products) {
	if (product.price > 15) {
		console.log('Expensive:', product.name);
	}
}

// –ú–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –≤–∏–π—Ç–∏ –∑ —Ü–∏–∫–ª—É, –∫–æ–ª–∏ –∑–Ω–∞–π–¥–µ–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç:
for (const product of products) {
	if (product.name === 'Banana') {
		console.log('Found Banana!');
		break; // –∑—É–ø–∏–Ω—è—î–º–æ —Ü–∏–∫–ª
	}
}

// üü£ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ,
// –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ–±–æ—Ä—É –∞–±–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º –∫–æ–¥–æ–º:
for (const product of products) {
	await fetch('/api/save', {
		method: 'POST',
		body: JSON.stringify(product),
	});
}

// ‚öñÔ∏è –ü—ñ–¥—Å—É–º–∫–æ–≤–∞ —Ç–∞–±–ª–∏—Ü—è

// | –ú–µ—Ç–æ–¥       | –ü–æ–≤–µ—Ä—Ç–∞—î             | –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏                                | –ü—Ä–∏–∫–ª–∞–¥                             |
// | ----------- | -------------------- | --------------------------------------------------- | ----------------------------------- |
// | `map()`     | –ù–æ–≤–∏–π –º–∞—Å–∏–≤          | –¢—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–º—ñ–Ω–µ–Ω—ñ –∫–æ–ø—ñ—ó –æ–±‚Äô—î–∫—Ç—ñ–≤               | –∑–Ω–∏–∂–∫–∞, –Ω–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞              |
// | `forEach()` | –ù—ñ—á–æ–≥–æ (`undefined`) | –¢—Ä–µ–±–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é (–ª–æ–≥, –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫)                | –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å—É–º–∏           |
// | `for...of`  | –ù—ñ—á–æ–≥–æ               | –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∑ `break`, `continue`, `await` | –∑–Ω–∞–π—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç, –æ–±—Ä–æ–±–∏—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ |
